$execute if data entity @s data.Items_init[{"components":{"minecraft:custom_data":{gui_togglebuttoncached:true}}}] run data modify storage gm:storage temp.macro.item_nbt set from storage gm:storage CACHE[{player:"$(player)"}].CACHE.TOGGLE_BUTTON[{GUI_ID:$(GUI_ID),PAGE:$(PAGE)}].TOGGLE[-1]
$execute if data entity @s data.Items_init[{"components":{"minecraft:custom_data":{gui_togglebuttoncached:true}}}] run data modify storage gm:storage temp.macro.function_file set from storage gm:storage CACHE[{player:"$(player)"}].CACHE.TOGGLE_BUTTON[{GUI_ID:$(GUI_ID),PAGE:$(PAGE)}].TOGGLE[-1]."components"."minecraft:custom_data".gui.execute.function
$execute if data entity @s data.Items_init[{"components":{"minecraft:custom_data":{gui_togglebuttoncached:true}}}] run data modify storage gm:storage temp.macro.command set from storage gm:storage CACHE[{player:"$(player)"}].CACHE.TOGGLE_BUTTON[{GUI_ID:$(GUI_ID),PAGE:$(PAGE)}].TOGGLE[-1]."components"."minecraft:custom_data".gui.execute.command
$execute if data entity @s data.Items_init[{"components":{"minecraft:custom_data":{gui_togglebuttoncached:true}}}] run data modify storage gm:storage temp.macro.command set from storage gm:storage CACHE[{player:"$(player)"}].CACHE.TOGGLE_BUTTON[{GUI_ID:$(GUI_ID),PAGE:$(PAGE)}].TOGGLE[-1]."components"."minecraft:custom_data".gui.execute.command

$execute if data entity @s data.Items_init[{"components":{"minecraft:custom_data":{gui:{item:"toggle_button"}}}}] run data modify storage gm:storage temp.macro.item_nbt set from storage gm:storage CACHE[{player:"$(player)"}].CACHE.TOGGLE_BUTTON[{GUI_ID:$(GUI_ID),PAGE:$(PAGE)}].TOGGLE[-1]
$execute if data entity @s data.Items_init[{"components":{"minecraft:custom_data":{gui:{item:"toggle_button"}}}}] run data modify storage gm:storage temp.macro.function_file set from storage gm:storage CACHE[{player:"$(player)"}].CACHE.TOGGLE_BUTTON[{GUI_ID:$(GUI_ID),PAGE:$(PAGE)}].TOGGLE[-1]."components"."minecraft:custom_data".gui.execute.function
$execute if data entity @s data.Items_init[{"components":{"minecraft:custom_data":{gui:{item:"toggle_button"}}}}] run data modify storage gm:storage temp.macro.command set from storage gm:storage CACHE[{player:"$(player)"}].CACHE.TOGGLE_BUTTON[{GUI_ID:$(GUI_ID),PAGE:$(PAGE)}].TOGGLE[-1]."components"."minecraft:custom_data".gui.execute.command
$execute if data entity @s data.Items_init[{"components":{"minecraft:custom_data":{gui:{item:"toggle_button"}}}}] run data modify storage gm:storage temp.macro.command set from storage gm:storage CACHE[{player:"$(player)"}].CACHE.TOGGLE_BUTTON[{GUI_ID:$(GUI_ID),PAGE:$(PAGE)}].TOGGLE[-1]."components"."minecraft:custom_data".gui.execute.command
